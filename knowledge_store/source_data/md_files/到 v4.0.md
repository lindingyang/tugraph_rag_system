# 蚂蚁开源图数据库 TuGraph-DB 升级到 v4.0，全新支持 GQL 国际标准查询语言

在2022年9月的世界人工智能大会上，蚂蚁自研图数据库TuGraph-DB正式开源。正值开源一周年之际，迎来了开源TuGraph-DB v4.0版，期间经历了10次重要迭代，重大更新的功能包括云上部署、POG（Procedure On Graph query language）、Python算法接口、图学习引擎、高可用、ISO GQL等，在功能完备性、上手易用性、设计先进性等方面做了大量的工作。

TuGraph-DB v4.0主要支持了ISO GQL国际标准查询语言、企业级高可用能力以及图学习引擎。

## TuGraph-DB v4.0 核心新功能介绍

1. **ISO GQL**

   关系型图数据库之所以能够顺利发展，一个重要的原因是标准化查询语言SQL的广泛使用，既降低了数据库用户的操作门槛，同时抹平了不同数据库间的实现细节，形成了分工合作的生态。

   GQL（Graph Query Language）是一种用于图查询语言的国际标准，是图数据库领域的“SQL”，参与方包括国际标准机构、高校、图数据库厂商、非盈利组织等，是图生态中非常重要的一环。

   新版本遵循GQL的最新标准，在查询引擎进行了支持，为用户提供了丰富多样的查询语言选择，也对图数据库领域查询语言的标准化起到了推动作用。

2. **企业级高可用**

   TuGraph-DB开源了企业级高可用能力，能够实现多活热备。支持用户便捷使用客户端来操作高可用功能，自动负载均衡，数据库不需要额外配置就可以支持更高的读负载。

   在TuGraph-DB高可用集群模式中，服务器中有一个leader和多个follower，可以并发提供读写能力。在任一单个节点故障时，基于RAFT协议可以秒级切换leader，持续为业务提供读写服务，RPO=0，RTO<10秒。

   TuGraph-DB高可用后续还将支持Witness、Learner等更多的功能角色。

3. **图学习引擎**

   TuGraph-DB v4.0深度集成了图学习引擎，兼容DGL、PyG等常见图学习框架。TuGraph-DB提供两种典型的图采样算子，包括对最新数据进行实时图采样，和基于快照进行批量图采用。学习引擎的实时图采样和查询引擎的图查询使用同一份存储数据。TuGraph-DB用户能够在图数据库上直接进行图学习训练。

   用图数据库作为图学习引擎的后端，最显著的一个优势是可以支持充分利用硬盘空间，即图学习涉及的数据不用全部放到内存。相比较传统的大数据引擎的解决方案（比如Spark），TuGraph-DB的图学习引擎可以在单机进行超大规模的图学习，大大降低了部署成本。

## 结语

在过去的一年里，不论是接口的丰富性还是学习引擎的支持，TuGraph-DB都致力于在简单易用性和功能完备性方面取得更好的表现。在未来的规划中，TuGraph-DB将持续进行架构演进，努力打造更活跃的图生态。


